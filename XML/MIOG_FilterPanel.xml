<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\FrameXML\UI.xsd">
    <Font name="LibMono" font="Interface\Addons\MythicIOGrabber\res\fonts\LiberationMono-Regular.ttf" outline="NORMAL" fixedSize="false">
        <FontHeight val="11" />
    </Font>

    <Frame name="MIOG_FilterPanel" inherits="BackdropTemplate" hidden="true" virtual="true">
        <Size x="220" y="600" />

        <Frames>
            <Button parentKey="Button" inherits="UIButtonTemplate, BackdropTemplate">
                <Size x="25" y="100" />
                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" />
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString parentKey="FontString" font="Interface\Addons\MythicIOGrabber\res\fonts\LiberationMono-Regular.ttf" justifyH="CENTER" justifyV="MIDDLE" outline="NORMAL" text="FILTERS">
                            <FontHeight val="13" />
                            <Anchors>
                                <Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" />
                            </Anchors>

                            <Scripts>
                                <OnLoad>
	                                self:SetText(string.gsub("FILTERS", "(.)", function(x) return x.."\n" end))
                                </OnLoad>
                            </Scripts>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnClick>
		                self:GetParent().Panel:SetShown(not self:GetParent().Panel:IsVisible())
                        self:Hide()
                    </OnClick>
                </Scripts>
            </Button>

            <Frame parentKey="Panel" inherits="BackdropTemplate" setAllPoints="true" hidden="true">
                <Frames>
                    <Frame parentKey="TitleBar" inherits="BackdropTemplate">
                        <Size y="20" />
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" />
                            <Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="TOPRIGHT" />
                        </Anchors>

                        <Frames>
                            <Button parentKey="Retract" inherits="UIButtonTemplate">
                                <Size x="20" y="20" />
                                <Anchors>
                                    <Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-5" y="-1"/>
                                </Anchors>

                                <NormalTexture file="interface/buttons/arrow-down-up.blp" />
                                <DisabledTexture file="interface/buttons/arrow-down-disabled.blp" />

                                <Scripts>
                                    <OnLoad>
                                        self:GetNormalTexture():SetRotation(-math.pi/2)
                                        self:GetDisabledTexture():SetRotation(-math.pi/2)
                                    </OnLoad>
                                    <OnClick>
                                        self:GetParent():GetParent():Hide()
                                        self:GetParent():GetParent():GetParent().Button:Show()
                                    </OnClick>
                                </Scripts>
                            </Button>
                        </Frames>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString parentKey="FontString" font="LibMono" justifyH="CENTER" justifyV="TOP" outline="NORMAL" text="No filters active" wordwrap="true" nonspacewrap="true" spacing="0">

                                </FontString>
                            </Layer>
                        </Layers>
                    </Frame>
                    <Button parentKey="Uncheck" inherits="IconButtonTemplate">
                        <Size x="20" y="20" />
                        <Anchors>
                            <Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="TOPRIGHT" x="-2" y="-2" />
                        </Anchors>

                        <KeyValues>
                            <KeyValue key="icon" value="Interface\Addons\MythicIOGrabber\res\infoIcons\xSmallIcon.png" type="global" />
                            <KeyValue key="iconSize" value="16" type="number" />
                        </KeyValues>

                        <Scripts>
                            <OnLoad>
                                self:OnLoad()
                            </OnLoad>
                        </Scripts>
                    </Button>
                    
                    <Button parentKey="Check" inherits="IconButtonTemplate">
                        <Size x="20" y="20" />
                        <Anchors>
                            <Anchor point="RIGHT" relativeKey="$parent" relativePoint="LEFT" x="-4" />
                        </Anchors>

                        <KeyValues>
                            <KeyValue key="icon" value="Interface\Addons\MythicIOGrabber\res\infoIcons\checkmarkSmallIcon.png" type="global" />
                            <KeyValue key="iconSize" value="16" type="number" />
                        </KeyValues>

                        <Scripts>
                            <OnLoad>
                                self:OnLoad()
                            </OnLoad>
                        </Scripts>
                    </Button>

                    <Frame parentKey="Plugin">
                        <Size y="185" />

                        <Anchors>
                            <Anchor point="BOTTOMLEFT" relativeKey="$parent" relativePoint="BOTTOMLEFT" />
                            <Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" />
                        </Anchors>

                    </Frame>
                </Frames>
            </Frame>
        </Frames>
    </Frame>
</Ui>