<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\FrameXML\UI.xsd">
	<Script file="Blizzard_WeeklyRewardsMixin.lua"/>

    <Font name="LibMono" font="Interface\Addons\MythicIOGrabber\res\fonts\LiberationMono-Regular.ttf" outline="NORMAL" fixedSize="false">
        <FontHeight val="11" />
    </Font>

    <Frame name="MIOG_MainFrameTemplate" inherits="BackdropTemplate" mixin="WeeklyRewardsMixin" movable="true" hidden="true" virtual="true" enableMouse="true">
        <KeyValues>
            <KeyValue key="activeDropdown" value="" type="global" />
        </KeyValues>
        <Frames>
            <Frame parentKey="LastInvites" inherits="MIOG_LastInvitesTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPRIGHT" />
                </Anchors>
            </Frame>

            <Frame parentKey="FilterPanel" inherits="MIOG_FilterPanel">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent.LastInvites.Button" relativePoint="BOTTOMLEFT" />
                </Anchors>
            </Frame>

            <Frame parentKey="TitleBar">
                <Size y="20" />
                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" />
                    <Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="TOPRIGHT" />
                </Anchors>

                <Frames>
                    <Button parentKey="KnownIssuesPanel" inherits="IconButtonTemplate" hidden="true">
                        <Size x="15" y="15"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" />
						</Anchors>

                        <NormalTexture atlas="glueannouncementpopup-icon-info" />
                        <HighlightTexture atlas="glueannouncementpopup-icon-info" />

                        <Scripts>
                            <OnEnter>
                                GameTooltip:SetOwner(knownIssuesPanel, "ANCHOR_TOPRIGHT")
                                GameTooltip:SetText(self.text)
                                GameTooltip:Show()
                            </OnEnter>
                            <OnLeave>
		                        GameTooltip:Hide()
                            </OnLeave>
                        </Scripts>
                    </Button>

                    <Button parentKey="CloseButton" inherits="UIPanelCloseButton">
                        <Size x="20" y="20"/>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="TOPRIGHT" />
						</Anchors>
						<Scripts>
							<OnClick>
								PVEFrame_ToggleFrame()
							</OnClick>
						</Scripts>
					</Button>

                    <Button parentKey="Settings">
                        <Size x="20" y="20"/>
                        <Anchors>
                            <Anchor point="RIGHT" relativeKey="$parent.CloseButton" relativePoint="LEFT" x="-2" />
                        </Anchors>
                        <NormalTexture file="Interface/Addons/MythicIOGrabber/res/infoIcons/settingGear.png" />
                        <Scripts>
							<OnClick>
		                        Settings.OpenToCategory("MythicIOGrabber")
							</OnClick>
						</Scripts>
                    </Button>

                    <Button parentKey="Expand">
                        <Size x="20" y="20"/>
                        <Anchors>
                            <Anchor point="RIGHT" relativeKey="$parent.Settings" relativePoint="LEFT" x="-2" y="-5"/>
                        </Anchors>
                        <NormalTexture file="interface/buttons/arrow-down-up.blp" />
                        <PushedTexture file="interface/buttons/arrow-down-down.blp" />
                        <DisabledTexture file="interface/buttons/arrow-down-disabled.blp" />
                    </Button>
                </Frames>    

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString parentKey="TitleString" font="Interface\Addons\MythicIOGrabber\res\fonts\LiberationMono-Regular.ttf" justifyH="CENTER" justifyV="MIDDLE" outline="NORMAL" text="Mythic IO Grabber">
                            <FontHeight val="12"/>
                            <Anchors>
                                <Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER"/>
                            </Anchors>
                        </FontString>
                        
                        <FontString parentKey="RaiderIOLoaded" font="LibMono" justifyH="RIGHT">
                            <Anchors>
                                <Anchor point="RIGHT" relativeKey="$parent.TitleString" relativePoint="LEFT" x="-3" />
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>            
            </Frame>

            <Frame parentKey="Plugin" inherits="BackdropTemplate" resizable="true" frameStrata="HIGH">
                <Size x="370" y="383" />

                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPRIGHT" x="-370" y="-20"/>
                    <Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="TOPRIGHT" y="-20"/>
                </Anchors>

                <Frames>
                    <Frame parentKey="FooterBar" inherits="BackdropTemplate">
                        <Size y="25" />
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="BOTTOMLEFT" />
                            <Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" />
                        </Anchors>

                        <Frames>
                            <Button parentKey="Back" inherits="UIPanelDynamicResizeButtonTemplate" text="Back">
                                <Size x="1" y="20" />
                                <Anchors>
                                    <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" />
                                </Anchors>
                                
                                <Scripts>
                                    <OnLoad>
                                        self:FitToText()
                                    </OnLoad>
                                    <OnClick>
                                        PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
                                        LFGListFrame_SetActivePanel(LFGListFrame, LFGListFrame.CategorySelection);
                                        LFGListFrame.SearchPanel.shouldAlwaysShowCreateGroupButton = false;

                                    </OnClick>
                                </Scripts>
                            </Button>
                        </Frames>
                    </Frame>

                    <Button parentKey="Resize" inherits="PanelResizeButtonTemplate" frameStrata="FULLSCREEN">
                        <Size x="20" y="20" />
                        <Anchors>
                            <Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" />
                        </Anchors>
                        <Scripts>
                            <OnMouseDown>
                                self:GetParent():StartSizing()
                            </OnMouseDown>
                        </Scripts>
                    </Button>
                </Frames>
            </Frame>

            <Frame parentKey="AutoCompleteFrame" frameLevel="20" hidden="true">
                <Size x="0" y="30"/>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent.SearchBox" relativePoint="BOTTOMLEFT" x="-2" y="0"/>
                    <Anchor point="TOPRIGHT" relativeKey="$parent.SearchBox" relativePoint="BOTTOMRIGHT" x="-4" y="0"/>
                </Anchors>
                <Layers>
                    <Layer level="OVERLAY">
                        <Texture parentKey="BottomLeftBorder" inherits="UI-Frame-BotCornerLeft">
                            <Anchors>
                                <Anchor point="BOTTOMLEFT" x="0" y="0"/>
                            </Anchors>
                        </Texture>
                        <Texture parentKey="BottomRightBorder" inherits="UI-Frame-BotCornerRight">
                            <Anchors>
                                <Anchor point="BOTTOMRIGHT" x="0" y="0"/>
                            </Anchors>
                        </Texture>
                        <Texture parentKey="BottomBorder" inherits="_UI-Frame-Bot">
                            <Anchors>
                                <Anchor point="BOTTOMLEFT" relativeKey="$parent.BottomLeftBorder" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
                                <Anchor point="BOTTOMRIGHT" relativeKey="$parent.BottomRightBorder" relativePoint="BOTTOMLEFT" x="0" y="0"/>
                            </Anchors>
                        </Texture>
                        <Texture parentKey="LeftBorder" inherits="!UI-Frame-LeftTile">
                            <Anchors>
                                <Anchor point="TOPLEFT" x="0" y="0" />
                                <Anchor point="BOTTOMLEFT" relativeKey="$parent.BottomLeftBorder" relativePoint="TOPLEFT"/>
                            </Anchors>
                        </Texture>
                        <Texture parentKey="RightBorder" inherits="!UI-Frame-RightTile">
                            <Anchors>
                                <Anchor point="TOPRIGHT" x="1" y="0" />
                                <Anchor point="BOTTOMRIGHT" relativeKey="$parent.BottomRightBorder" relativePoint="TOPRIGHT" x="1" y="0"/>
                            </Anchors>
                        </Texture>
                    </Layer>
                </Layers>
                <Frames>
                    <Button parentArray="Results" inherits="LFGListSearchAutoCompleteButtonTemplate">
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeKey="$parent.LeftBorder" relativePoint="TOPRIGHT" x="-8" y="0"/>
                            <Anchor point="TOPRIGHT" relativeKey="$parent.RightBorder" relativePoint="TOPLEFT" x="5" y="0"/>
                        </Anchors>
                    </Button>
                </Frames>
            </Frame>

            <Frame parentKey="SearchingSpinner" hidden="true">
                <Size x="1" y="1" />
            </Frame>

            <Frame parentKey="ScrollBox" hidden="true">
                <Size x="1" y="1" />
                <Frames>
                    <Frame parentKey="NoResultsFound" hidden="true">
                        <Size x="1" y="1" />
                    </Frame>
                    <Frame parentKey="StartGroupButton" hidden="true">
                        <Size x="1" y="1" />
                    </Frame>
                </Frames>    
            </Frame>

            <Frame parentKey="RolePanel">
                <Size x="190" y="30" />
                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent.TitleBar" relativePoint="TOPLEFT" y="-20"/>
                </Anchors>

                <Frames>

                    <Frame parentKey="Leader">
                        <Size x="40" y="20" />

                        <Anchors>
                            <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="10"/>
                        </Anchors>

                        <Frames>
                            <CheckButton parentKey="Checkbox" inherits="UICheckButtonTemplate">
                                <Size x="22" y="22" />
                                <Anchors>
                                    <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" />
                                </Anchors>
                            </CheckButton>
                        </Frames>

                        <Layers>
                            <Layer level="ARTWORK">
                                <Texture parentKey="Icon" file="Interface/Addons/MythicIOGrabber/res/infoIcons/friend.png">
                                    <Size x="18" y="18" />
                                    <Anchors>
                                        <Anchor point="LEFT" relativeKey="$parent.Checkbox" relativePoint="RIGHT" />
                                    </Anchors>
                                </Texture>
                            </Layer>
                        </Layers>
                    </Frame>

                    <Frame parentKey="Tank">
                        <Size x="40" y="20" />

                        <Anchors>
                            <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="50"/>
                        </Anchors>

                        <Frames>
                            <CheckButton parentKey="Checkbox" inherits="UICheckButtonTemplate">
                                <Size x="22" y="22" />
                                <Anchors>
                                    <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" />
                                </Anchors>
                            </CheckButton>
                        </Frames>

                        <Layers>
                            <Layer level="ARTWORK">
                                <Texture parentKey="Icon" file="Interface/Addons/MythicIOGrabber/res/infoIcons/tankIcon.png">
                                    <Size x="18" y="18" />
                                    <Anchors>
                                        <Anchor point="LEFT" relativeKey="$parent.Checkbox" relativePoint="RIGHT" />
                                    </Anchors>
                                </Texture>
                            </Layer>
                        </Layers>
                    </Frame>

                    <Frame parentKey="Healer">
                        <Size x="40" y="20" />

                        <Anchors>
                            <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="90"/>
                        </Anchors>

                        <Frames>
                            <CheckButton parentKey="Checkbox" inherits="UICheckButtonTemplate">
                                <Size x="22" y="22" />
                                <Anchors>
                                    <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" />
                                </Anchors>
                            </CheckButton>
                        </Frames>

                        <Layers>
                            <Layer level="ARTWORK">
                                <Texture parentKey="Icon" file="Interface/Addons/MythicIOGrabber/res/infoIcons/healerIcon.png">
                                    <Size x="18" y="18" />
                                    <Anchors>
                                        <Anchor point="LEFT" relativeKey="$parent.Checkbox" relativePoint="RIGHT" />
                                    </Anchors>
                                </Texture>
                            </Layer>
                        </Layers>
                    </Frame>

                    <Frame parentKey="Damager">
                        <Size x="40" y="20" />

                        <Anchors>
                            <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="130"/>
                        </Anchors>

                        <Frames>
                            <CheckButton parentKey="Checkbox" inherits="UICheckButtonTemplate">
                                <Size x="22" y="22" />
                                <Anchors>
                                    <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" />
                                </Anchors>
                            </CheckButton>
                        </Frames>

                        <Layers>
                            <Layer level="ARTWORK">
                                <Texture parentKey="Icon" file="Interface/Addons/MythicIOGrabber/res/infoIcons/damagerIcon.png">
                                    <Size x="18" y="18" />
                                    <Anchors>
                                        <Anchor point="LEFT" relativeKey="$parent.Checkbox" relativePoint="RIGHT" />
                                    </Anchors>
                                </Texture>
                            </Layer>
                        </Layers>
                    </Frame>

                </Frames>
            </Frame>

            <Frame parentKey="QueueDropDown" inherits="MIOG_DropDownMenu" mixin="SlickDropDown" frameLevel="5">
                <Size y="25" />
                <Anchors>
                    <Anchor point="TOPLEFT" relativeKey="$parent.RolePanel" relativePoint="BOTTOMLEFT"/>
                    <Anchor point="TOPRIGHT" relativeKey="$parent.RolePanel" relativePoint="BOTTOMRIGHT"/>
                </Anchors>
            </Frame>

            <Frame parentKey="QueuePanel" inherits="BackdropTemplate" frameLevel="2">
                <KeyValues>
                    <KeyValue key="backdropInfo" value="BACKDROP_TEXT_PANEL_0_16" type="global"/>
                </KeyValues>

                <Size x="188" y="340" />

                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativeKey="$parent" relativePoint="BOTTOMLEFT"/>
                </Anchors>

                <Frames>
                    <Frame parentKey="Title" inherits="BackdropTemplate">
                        <KeyValues>
                            <KeyValue key="backdropInfo" value="BACKDROP_TEXT_PANEL_0_16" type="global"/>
                        </KeyValues>
                        <Size y="20" />
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT"/>
                            <Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="TOPRIGHT"/>
                        </Anchors>
                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString parentKey="FontString" font="LibMono" text="Active queues">
                                    <Anchors>
                                        <Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER"/>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>
                    </Frame>

                    <Frame parentKey="Container" inherits="VerticalLayoutFrame, BackdropTemplate">
                        <KeyValues>
                            <KeyValue key="align" value="top" />
                            <KeyValue key="spacing" value="3" />
                        </KeyValues>

                        <Anchors>
                            <Anchor point="TOPLEFT" relativeKey="$parent.Title" relativePoint="BOTTOMLEFT" x="4" />
                            <Anchor point="TOPRIGHT" relativeKey="$parent.Title" relativePoint="BOTTOMRIGHT" x="-3"/>
                        </Anchors>
                    </Frame>
                </Frames>
            </Frame>

            <Frame parentKey="CategoryPanel" inherits="BackdropTemplate">
                <Size x="188" y="300" />

                <Anchors>
                    <Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM"/>
                </Anchors>

                <Frames>
                </Frames>
            </Frame>

            <StatusBar parentKey="HonorStatus" inherits="BackdropTemplate" mixin="WeeklyRewardsActivityMixin" orientation="VERTICAL" rotatesTexture="true">
                <Size x="20" y="200" />
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="-5"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
		                self:SetStatusBarTexture("Interface\\TargetingFrame\\UI-StatusBar")
                    </OnLoad>
                    <OnMouseDown>
                        WeeklyRewards_ShowUI()
                    </OnMouseDown>
                </Scripts>
            </StatusBar>

            <StatusBar parentKey="RaidStatus" inherits="BackdropTemplate" mixin="WeeklyRewardsActivityMixin"  orientation="VERTICAL" rotatesTexture="true">
                <Size x="20" y="200" />
                <Anchors>
                    <Anchor point="RIGHT" relativeKey="$parent.HonorStatus" relativePoint="LEFT" x="-5"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
		                self:SetStatusBarTexture("Interface\\TargetingFrame\\UI-StatusBar")
                    </OnLoad>
                    <OnMouseDown>
                        WeeklyRewards_ShowUI()
                    </OnMouseDown>
                </Scripts>
            </StatusBar>

            <StatusBar parentKey="MPlusStatus" inherits="BackdropTemplate" mixin="WeeklyRewardsActivityMixin"  orientation="VERTICAL" rotatesTexture="true">
                <Size x="20" y="200" />
                <Anchors>
                    <Anchor point="RIGHT" relativeKey="$parent.RaidStatus" relativePoint="LEFT" x="-5"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
		                self:SetStatusBarTexture("Interface\\TargetingFrame\\UI-StatusBar")
                    </OnLoad>
                    <OnMouseDown>
                        WeeklyRewards_ShowUI()
                    </OnMouseDown>
                </Scripts>
            </StatusBar>
        </Frames>

        <Layers>
            <Layer level="BACKGROUND" textureSubLevel="1">
                <Texture parentKey="Background" setAllPoints="true" horizTile="true" vertTile="true">

                </Texture>
            </Layer>
        </Layers>

        <Scripts>
            <OnDragStart>
                self:StartMoving()
            </OnDragStart>
            <OnDragStop>
                self:StopMovingOrSizing()
            </OnDragStop>
            <OnLoad>
                self:RegisterForDrag("LeftButton")
            </OnLoad>
        </Scripts>
    </Frame>
</Ui>